<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Peso Converter</title>
    <style>
        :root { --primary: #28a745; --secondary: #007bff; --bg: #f8f9fa; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .converter-card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 400px; text-align: center; }
        h2 { color: #333; margin-bottom: 1.5rem; }
        .input-group { margin-bottom: 1rem; text-align: left; }
        label { font-size: 0.9rem; font-weight: bold; color: #666; display: block; margin-bottom: 5px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        .swap-btn { background: #6c757d; color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; margin: 10px 0; font-size: 0.8rem; transition: 0.3s; }
        .swap-btn:hover { background: #5a6268; }
        .convert-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .convert-btn:hover { opacity: 0.9; }
        #result-display { margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 8px; }
        .amount-out { font-size: 1.8rem; font-weight: bold; color: var(--secondary); display: block; }
        .rate-info { font-size: 0.8rem; color: #777; margin-top: 5px; }
    </style>
</head>
<body>

<div class="converter-card">
    <h2 id="title">Peso to USD</h2>
    
    <div class="input-group">
        <label id="input-label">Amount in Pesos:</label>
        <input type="number" id="amount" placeholder="0.00" value="100">
    </div>

    <div class="input-group">
        <label>Currency Type:</label>
        <select id="pesoType">
            <option value="MXN">Mexican Peso (MXN)</option>
            <option value="PHP">Philippine Peso (PHP)</option>
            <option value="CLP">Chilean Peso (CLP)</option>
            <option value="COP">Colombian Peso (COP)</option>
            <option value="ARS">Argentine Peso (ARS)</option>
            <option value="DOP">Dominican Peso (DOP)</option>
            <option value="UYU">Uruguayan Peso (UYU)</option>
        </select>
    </div>

    <button class="swap-btn" onclick="swap()">â‡„ Swap Direction</button>
    <button class="convert-btn" onclick="convert()">Convert Now</button>

    <div id="result-display">
        <span class="amount-out" id="output-val">$0.00</span>
        <span class="rate-info" id="rate-text">Select amount and click convert</span>
    </div>
</div>

<script>
    let isPesoToUsd = true;

    function swap() {
        isPesoToUsd = !isPesoToUsd;
        const peso = document.getElementById('pesoType').value;
        document.getElementById('title').innerText = isPesoToUsd ? `${peso} to USD` : `USD to ${peso}`;
        document.getElementById('input-label').innerText = isPesoToUsd ? `Amount in ${peso}:` : `Amount in USD:`;
        convert(); // Auto-update on swap
    }

    async function convert() {
        const amount = document.getElementById('amount').value;
        const peso = document.getElementById('pesoType').value;
        const outputVal = document.getElementById('output-val');
        const rateText = document.getElementById('rate-text');

        const base = isPesoToUsd ? peso : "USD";
        const target = isPesoToUsd ? "USD" : peso;

        try {
            const response = await fetch(`https://api.frankfurter.dev/v1/latest?base=${base}&symbols=${target}`);
            const data = await response.json();
            const rate = data.rates[target];
            const total = (amount * rate).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
            
            outputVal.innerText = isPesoToUsd ? `$${total} USD` : `${total} ${peso}`;
            rateText.innerText = `1 ${base} = ${rate.toFixed(4)} ${target}`;
        } catch (error) {
            rateText.innerText = "Error fetching live rates.";
        }
    }
</script>

</body>
</html>
